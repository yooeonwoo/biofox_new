# KOL 소속 전문점 및 매출 관리 기능

## 기능 개요

BIOFOX KOL 시스템에서 전문점과 매출을 관리하는 기능을 구현합니다. 본사 관리자가 전문점 등록 및 매출 등록을 담당하며, KOL 사용자는 자신의 소속 전문점 정보와 매출 현황을 조회만 할 수 있습니다.

## 사용자 권한

1. **관리자 권한**
   - KOL 등록
   - 전문점 등록/수정/삭제
   - 매출 등록/수정/삭제

2. **KOL 권한**
   - 소속 전문점 목록 조회
   - 소속 전문점 매출 현황 조회

## 주요 기능

1. **전문점 관리 (관리자 전용)**
   - 전문점 목록 조회
   - 새로운 전문점 등록
   - 기존 전문점 정보 수정
   - 전문점 삭제 기능

2. **매출 관리 (관리자 전용)**
   - 전문점 선택
   - 제품 및 수량 선택
   - 총 매출액 계산
   - 매출 데이터 저장/수정/삭제

3. **전문점 조회 (KOL 전용)**
   - 소속 전문점 목록 조회
   - 전문점 상세 정보 조회

4. **매출 조회 (KOL 전용)**
   - 소속 전문점의 매출 현황 조회

5. **Supabase 연동**
   - 실시간 데이터 동기화
   - 데이터베이스 CRUD 작업 (관리자 권한에 따라 제한)

## 기술 스택

- **Frontend**
  - Next.js (App Router)
  - TypeScript
  - ShadCN UI 컴포넌트
  - Tailwind CSS

- **Backend**
  - Next.js API Routes
  - Drizzle ORM
  - Supabase (데이터베이스 및 실시간 기능)

## 구현 계획

1. **브랜치 전략**
   - 메인 브랜치: `main`
   - 기능 브랜치: `feature/admin-store-management`, `feature/admin-sales-management`

2. **구현 순서**
   - 관리자용 전문점 관리 기능
   - 관리자용 매출 등록 기능
   - KOL용 전문점 조회 기능
   - KOL용 매출 조회 기능
   - Supabase 연동 및 실시간 데이터 처리

3. **테스트 전략**
   - 컴포넌트 테스트
   - 통합 테스트
   - 사용자 권한 테스트

## 관련 이슈

- 관리자용 전문점 관리 기능 구현 (#XX)
- 관리자용 매출 관리 기능 구현 (#XX)
- KOL용 전문점 조회 기능 구현 (#XX)
- KOL용 매출 조회 기능 구현 (#XX)
- Supabase 실시간 데이터 연동 (#XX)

## UI 컴포넌트

- 전문점 관리 컴포넌트 (`SpecialtyStoreManagement.tsx`)
- 매출 등록 컴포넌트 (`SalesRegistration.tsx`)

## 변경 이력

- **2023-04-15**: 초기 문서 작성
- **2023-04-20**: 요구사항 변경 - KOL 권한 축소 (조회만 가능), 관리자 권한 확장 