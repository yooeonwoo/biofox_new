# 매출수당계산 대시보드 UI 설계

## 1. 개요

이 문서는 매출수당계산 시스템의 대시보드 UI 설계에 대해 설명합니다. 대시보드는 KOL이 자신의 소속 전문점들의 매출과 수당을 확인하고 관리할 수 있는 기능을 제공합니다.

## 2. 대시보드 메뉴 구조

### 2.1 메인 메뉴

```
└── 매출/수당 관리
    ├── 대시보드
    ├── 전문점 순위
    ├── 전문점 상세
    └── 수당 내역
```

## 3. 페이지별 UI 설계

### 3.1 대시보드 페이지 (`/dashboard/sales`)

#### 주요 기능 및 컴포넌트
- 월별 매출 및 수당 요약 정보 표시
- 전월과 당월 비교 차트
- 활성 전문점 현황
- 제품별 매출 비율 차트

#### 레이아웃 구조
```
┌─────────────────────────────────────────────────────────┐
│ 월 선택 (YYYY-MM)                                 필터  │
├────────────────┬────────────────┬────────────────┬──────┤
│                │                │                │      │
│  당월 매출     │  당월 수당     │  월평균 매출   │ 누적 │
│                │                │                │ 수당 │
├────────────────┴────────────────┴────────────────┴──────┤
│                                                         │
│  월별 매출/수당 추이 그래프                             │
│                                                         │
├─────────────────────────────┬───────────────────────────┤
│                             │                           │
│  제품별 매출 비율           │  전문점 활성 현황         │
│  (파이 차트)                │                           │
│                             │                           │
└─────────────────────────────┴───────────────────────────┘
```

#### 컴포넌트 사양

1. **월 선택기 (`MonthSelector`)**
   - 타입: 드롭다운 또는 달력 UI
   - 기능: 특정 연월 선택 시 해당 월의 데이터로 대시보드 갱신

2. **요약 카드 (`SummaryCard`)**
   - 타입: 카드형 UI (4개)
   - 표시 정보: 당월 매출, 당월 수당, 월평균 매출, 누적 수당
   - 각 카드에 전월 대비 증감률 표시 (화살표 아이콘으로 시각화)

3. **월별 트렌드 차트 (`MonthlyTrendChart`)**
   - 타입: 라인 차트 (매출) + 바 차트 (수당)
   - 기간: 최근 12개월
   - 두 개의 Y축: 매출 금액, 수당 금액

4. **제품별 매출 비율 차트 (`ProductRatioChart`)**
   - 타입: 파이 차트 또는 도넛 차트
   - 표시 정보: 제품별 매출 비율
   - 호버 시 제품명, 금액, 비율 표시

5. **전문점 활성 현황 (`ShopStatusWidget`)**
   - 타입: 카드형 UI + 프로그레스 바
   - 표시 정보: 활성 전문점 수 / 전체 전문점 수
   - 전문점 순위로 이동할 수 있는 링크 버튼

### 3.2 전문점 순위 페이지 (`/dashboard/shops`)

#### 주요 기능 및 컴포넌트
- 전문점 순위 테이블
- 정렬 기준 선택 옵션 (당월매출, 월평균매출, 누적매출)
- 월 선택 필터

#### 레이아웃 구조
```
┌─────────────────────────────────────────────────────────┐
│ 월 선택 (YYYY-MM)    정렬 기준:                   필터  │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  전문점 순위 테이블                                     │
│  ┌───┬──────────────┬────────────┬───────────┬─────────┐│
│  │순위│ 전문점명     │ 당월 매출  │ 월평균 매출│누적 매출││
│  ├───┼──────────────┼────────────┼───────────┼─────────┤│
│  │ 1 │ 뷰티샵 A     │ 2,000,000  │ 1,800,000 │10,000,000││
│  ├───┼──────────────┼────────────┼───────────┼─────────┤│
│  │ 2 │ 뷰티샵 B     │ 1,800,000  │ 1,500,000 │ 8,000,000││
│  ├───┼──────────────┼────────────┼───────────┼─────────┤│
│  │...│              │            │           │         ││
│  └───┴──────────────┴────────────┴───────────┴─────────┘│
│                                                         │
└─────────────────────────────────────────────────────────┘
```

#### 컴포넌트 사양

1. **정렬 기준 선택기 (`SortCriteriaSelector`)**
   - 타입: 라디오 버튼 또는 탭 UI
   - 옵션: 당월매출, 월평균매출, 누적매출

2. **전문점 순위 테이블 (`ShopRankingTable`)**
   - 타입: 데이터 테이블
   - 컬럼: 순위, 전문점명, 점주명, 당월 매출, 월평균 매출, 누적 매출
   - 기능: 컬럼 클릭 시 해당 기준으로 정렬, 행 클릭 시 해당 전문점 상세 페이지로 이동

### 3.3 전문점 상세 페이지 (`/dashboard/shops/[shopId]`)

#### 주요 기능 및 컴포넌트
- 전문점 기본 정보
- 월별 매출/수당 정보
- 제품별 판매 비율
- 월별 매출 추이 차트

#### 레이아웃 구조
```
┌─────────────────────────────────────────────────────────┐
│ < 전문점 목록으로                                       │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  전문점 정보                                            │
│  전문점명: 뷰티샵 A    점주명: 홍길동    지역: 서울     │
│                                                         │
├────────────────┬────────────────┬────────────────┬──────┤
│                │                │                │      │
│  당월 매출     │  당월 수당     │  월평균 매출   │ 누적 │
│                │                │                │ 수당 │
├────────────────┴────────────────┼────────────────┴──────┤
│                                 │                       │
│  제품별 매출 비율               │  월별 매출/수당 추이  │
│  (파이 차트)                    │  (라인 차트)          │
│                                 │                       │
├─────────────────────────────────┴───────────────────────┤
│                                                         │
│  월별 매출/수당 테이블                                  │
│  ┌──────────┬────────────┬───────────┬─────────────────┐│
│  │ 연월     │ 매출       │ 수당      │ 전월 대비       ││
│  ├──────────┼────────────┼───────────┼─────────────────┤│
│  │ 2023-08  │ 2,000,000  │ 600,000   │ +10%            ││
│  ├──────────┼────────────┼───────────┼─────────────────┤│
│  │ 2023-07  │ 1,800,000  │ 540,000   │ +5%             ││
│  ├──────────┼────────────┼───────────┼─────────────────┤│
│  │...       │            │           │                 ││
│  └──────────┴────────────┴───────────┴─────────────────┘│
└─────────────────────────────────────────────────────────┘
```

#### 컴포넌트 사양

1. **전문점 정보 카드 (`ShopInfoCard`)**
   - 타입: 카드형 UI
   - 표시 정보: 전문점명, 점주명, 지역, 연락처 등

2. **제품별 매출 비율 차트 (`ProductRatioChart`)**
   - 타입: 파이 차트 또는 도넛 차트
   - 표시 정보: 제품별 매출 비율
   - 호버 시 제품명, 금액, 비율 표시

3. **월별 매출/수당 추이 차트 (`ShopMonthlySalesChart`)**
   - 타입: 라인 차트 (매출) + 바 차트 (수당)
   - 기간: 최근 6개월
   - 두 개의 Y축: 매출 금액, 수당 금액

4. **월별 매출/수당 테이블 (`MonthlyDataTable`)**
   - 타입: 데이터 테이블
   - 컬럼: 연월, 매출, 수당, 전월 대비 증감률
   - 기능: 특정 월 클릭 시 해당 월의 상세 데이터 표시

### 3.4 수당 내역 페이지 (`/dashboard/commissions`)

#### 주요 기능 및 컴포넌트
- 수당 내역 테이블
- 정산 상태 필터
- 월별 수당 요약

#### 레이아웃 구조
```
┌─────────────────────────────────────────────────────────┐
│ 기간 선택    정산 상태:                           필터  │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  수당 내역 테이블                                       │
│  ┌──────────┬────────────┬───────────┬─────────┬───────┐│
│  │ 발생일   │ 전문점     │ 수당 금액 │ 정산 상태│ 비고 ││
│  ├──────────┼────────────┼───────────┼─────────┼───────┤│
│  │2023-08-15│ 뷰티샵 A   │ 150,000   │ 정산 완료│      ││
│  ├──────────┼────────────┼───────────┼─────────┼───────┤│
│  │2023-08-10│ 뷰티샵 B   │ 90,000    │ 정산 대기│      ││
│  ├──────────┼────────────┼───────────┼─────────┼───────┤│
│  │...       │            │           │         │      ││
│  └──────────┴────────────┴───────────┴─────────┴───────┘│
│                                                         │
├─────────────────────────────────────────────────────────┤
│  월별 수당 요약                                         │
│  ┌──────────┬────────────┬───────────┬─────────────────┐│
│  │ 연월     │ 발생 수당  │ 정산 수당 │ 미정산 수당     ││
│  ├──────────┼────────────┼───────────┼─────────────────┤│
│  │ 2023-08  │ 1,500,000  │ 900,000   │ 600,000         ││
│  ├──────────┼────────────┼───────────┼─────────────────┤│
│  │ 2023-07  │ 1,200,000  │ 1,200,000 │ 0               ││
│  ├──────────┼────────────┼───────────┼─────────────────┤│
│  │...       │            │           │                 ││
│  └──────────┴────────────┴───────────┴─────────────────┘│
└─────────────────────────────────────────────────────────┘
```

#### 컴포넌트 사양

1. **정산 상태 필터 (`SettlementStatusFilter`)**
   - 타입: 체크박스 또는 드롭다운
   - 옵션: 전체, 정산 완료, 정산 대기

2. **수당 내역 테이블 (`CommissionHistoryTable`)**
   - 타입: 데이터 테이블
   - 컬럼: 발생일, 전문점, 수당 금액, 정산 상태, 비고
   - 기능: 필터링, 정렬

3. **월별 수당 요약 테이블 (`MonthlySummaryTable`)**
   - 타입: 데이터 테이블
   - 컬럼: 연월, 발생 수당, 정산 수당, 미정산 수당
   - 기능: 연월 클릭 시 해당 월의 상세 내역으로 필터링

## 4. 공통 컴포넌트

### 4.1 월 선택기 (`MonthSelector`)

- 타입: 드롭다운 또는 달력 UI
- 기능: 특정 연월 선택 시 해당 월의 데이터로 페이지 갱신
- 특징: 모든 페이지에서 재사용 가능

### 4.2 요약 카드 (`SummaryCard`)

- 타입: 카드형 UI
- 표시 정보: 제목, 금액, 증감률, 아이콘
- 특징: 다양한 데이터를 동일한 스타일로 표시

### 4.3 뒤로 가기 버튼 (`BackButton`)

- 타입: 버튼
- 기능: 이전 페이지로 이동
- 특징: 상세 페이지에서 목록 페이지로 이동 시 사용

## 5. 데이터 흐름

### 5.1 상태 관리

- 전역 상태: Zustand 또는 Context API 사용
- API 데이터 관리: SWR 또는 React Query 사용
- 필터링 상태: 로컬 컴포넌트 상태로 관리

### 5.2 데이터 업데이트 전략

- 자동 갱신: 주기적으로 API 데이터 갱신 (SWR의 revalidate 기능 활용)
- 필터 변경 시: 선택된 필터에 따라 API 호출 파라미터 변경
- 캐싱: 자주 사용하는 데이터는 클라이언트 측에서 캐싱

## 6. 반응형 디자인

- 모바일: 세로 스크롤 레이아웃, 차트 크기 축소
- 태블릿: 2열 레이아웃, 차트 크기 중간
- 데스크톱: 4열 레이아웃, 차트 크기 최대

## 7. 접근성 고려사항

- 색상 대비: 모든 텍스트는 충분한 색상 대비 제공
- 키보드 접근성: 모든 상호작용 요소는 키보드로 접근 가능
- 스크린 리더: 차트 및 그래프에 대체 텍스트 제공 