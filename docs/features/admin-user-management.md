# 관리자 사용자 관리 기능

## 개요

본 문서는 BIOFOX KOL 프로젝트의 관리자 페이지 내 사용자 등록 및 역할 관리 기능에 대해 설명합니다. 이 기능은 관리자가 새로운 사용자를 등록하고, 사용자 역할(본사관리자, KOL)을 관리할 수 있도록 합니다.

## 기능 설명

### 1. 사용자 등록 기능

- 관리자가 새로운 사용자를 등록할 수 있는 기능
- 사용자 정보(이메일, 이름, 역할) 입력 폼 제공
- Clerk API를 통한 실제 사용자 계정 생성

### 2. 사용자 목록 조회 기능

- 등록된 모든 사용자 목록 표시
- 사용자 정보(이메일, 이름, 역할, 가입일) 표시
- 역할별 필터링 기능 제공

### 3. 사용자 삭제 기능

- 선택한 사용자를 삭제할 수 있는 기능
- Clerk API를 통한 실제 사용자 계정 삭제

## 구현 상세

### 컴포넌트 구조

- `app/admin/dashboard/user-management/page.tsx`: 사용자 관리 페이지
- `app/admin/dashboard/user-management/components/UserForm.tsx`: 사용자 등록 폼 컴포넌트
- `app/admin/dashboard/user-management/components/UserTable.tsx`: 사용자 목록 테이블 컴포넌트

### API 구조

- `app/api/admin/clerk/create-user/route.ts`: 사용자 생성 API
- `app/api/admin/clerk/users/route.ts`: 사용자 목록 조회 및 삭제 API

### 보안 고려사항

1. **권한 검증**
   - 관리자 권한(본사관리자)을 가진 사용자만 접근 가능
   - 인증되지 않은 사용자는 로그인 페이지로 리다이렉트

2. **데이터 유효성 검증**
   - 필수 필드(이메일, 이름, 역할) 검증
   - 이메일 형식 검증

## 사용 방법

1. 관리자 계정으로 로그인
2. 좌측 사이드바에서 "사용자 관리" 메뉴 클릭
3. 사용자 등록 폼에서 새 사용자 정보 입력 후 등록
4. 사용자 목록에서 등록된 사용자 확인 및 관리

## 관련 기술

- Clerk: 사용자 인증 및 관리
- Next.js App Router: 페이지 라우팅
- React: UI 컴포넌트
- Tailwind CSS: UI 스타일링

## 향후 개선 사항

- 사용자 정보 수정 기능 추가
- 사용자 데이터 페이지네이션 구현
- 더 상세한 권한 시스템 구현
- 비밀번호 재설정 링크 자동 발송 기능 