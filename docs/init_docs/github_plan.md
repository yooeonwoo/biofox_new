아래는 **BIOFOX KOL** 프로젝트에 적용할 수 있는 **Git 브랜치 전략 문서** 예시입니다.  
이미 작성된 **프로젝트 개요 문서**, **요구사항 명세서**, **PRD** 등을 바탕으로,  
어떻게 Git 브랜치를 운영하고 코드 품질을 유지할지에 초점을 맞추었습니다.  
실제 팀과의 협의 및 환경(배포 파이프라인, CI/CD 툴 등)에 따라 **조정**하여 사용하시기 바랍니다.

---

# Git 브랜치 관리 문서 (BIOFOX KOL)

## 1. 개요

이 문서는 **BIOFOX KOL** 프로젝트에서 소스 코드를 효율적으로 버전 관리하고,  
원활한 협업을 위해 **Git 브랜치**를 어떻게 운영할지 정의합니다.

- **목표**  
  - 빠른 피처 개발(Agile)과 코드 품질(테스트, 리뷰)을 양립  
  - 최소 기능 단위(“Minimal Feature Branch”)로 브랜치를 분화해,  
    **작고 자주** 배포(Release)하는 전략  
- **적용 범위**  
  - 프로젝트 전체(프론트엔드, 백엔드, 인프라 IaC 스크립트 등)  
  - GitHub (또는 GitLab, Bitbucket 등) 저장소 기반

---

## 2. 용어 정의

- **메인(Main) 브랜치**:  
  - 항상 **프로덕션에 배포 가능한** 안정된 코드를 유지  
  - CI/CD 연결 시 `main` 또는 `master` 브랜치에 머지(Merge)되면 자동 배포될 수 있음  
- **개발(Dev) 브랜치**: \[*필요 시*\]  
  - 여러 기능을 통합 테스트하거나, QA 환경에서 사용하기 위한 중간 통합 브랜치  
  - 단, “최소 기능 브랜치” 전략에 따라 dev 브랜치를 생략하기도 함(Trunk-Based Development)  
- **피처(Feature) 브랜치**:  
  - 특정 기능 혹은 이슈를 구현하기 위한 임시 브랜치  
  - 작업 완료 후, Pull Request를 통해 메인 브랜치(또는 dev 브랜치)에 머지  
- **핫픽스(Hotfix) 브랜치**:  
  - 프로덕션(메인 브랜치)에서 발견된 치명적 버그를 빠르게 수정하기 위한 브랜치  
  - 긴급성을 이유로, 바로 메인에서 브랜치 생성 → 수정 후 → 메인에 머지  
- **릴리스(Release) 브랜치**: \[*프로세스에 따라*\]  
  - 다음 버전 릴리스 준비용으로 사용하는 브랜치  
  - 사전에 QA/버그 수정이 종결되면, 최종적으로 메인에 머지 후 태그(Tag) 발행

---

## 3. 브랜치 구조 (Minimal Feature Branch 전략)

### 3.1 최소 기능 브랜치(Minimal Feature Branch) 개념

- **기능 단위**를 “가장 작은” 수준으로 쪼개서 브랜치를 생성  
  - 예: “회원가입 UI 구현” / “KOL 대시보드 통계 차트 추가” / “Cafe24 API 연동 에러 처리” 등  
  - 스프린트나 이슈(이슈 트래커: GitHub Issues, Jira)와 연계해,  
    1개 이슈 = 1개 피처 브랜치 형태로 관리  
- **장점**  
  - 작은 단위로 Pull Request 작성 → **리뷰/테스트**가 용이  
  - 기능이 완성되면 **즉시** 메인에 병합 → 빠른 반복 배포(Continuous Delivery) 가능  
- **주의**  
  - 브랜치가 너무 많아지는 것을 방지하기 위해, 신속히 머지/삭제  
  - 병합 전 Conflict(충돌) 발생 시, 피처 간 의존성을 파악하여 우선순위 재조정

### 3.2 브랜치 생성 규칙

1. **메인(Main) 브랜치**  
   - 이름: `main`  
   - 항상 배포 가능한 상태 유지. CI/CD 파이프라인과 연동  
   - 직접 푸시(Push) **금지**: Pull Request(또는 Merge Request)를 통한 병합만 허용  
2. **피처(Feature) 브랜치**  
   - 이름 규칙: `feature/이슈번호-간단설명`  
     - 예: `feature/12-signup-ui`, `feature/34-dash-chart`  
   - 생성 기준:  
     - GitHub Issues, Jira 등에 등록된 이슈나 태스크를 단위로 생성  
     - 최대한 작은 기능 범위만 포함  
   - 머지 대상: 보통 `main` (혹은 `dev` 브랜치가 있을 시)  
3. **핫픽스(Hotfix) 브랜치**  
   - 이름 규칙: `hotfix/이슈번호-간단설명`  
   - 프로덕션(메인)에서 긴급하게 발생한 버그 수정  
   - 수정 후, 리뷰 절차를 거쳐 **메인**에 머지 → 필요 시 재배포(패치 버전)  
4. **릴리스(Release) 브랜치** \[*팀 상황에 따라 사용*\]  
   - 이름 규칙: `release/x.y.z` (예: `release/1.0.0`)  
   - 큰 버전 업데이트나 사전 QA용으로 사용  
   - 모든 수정이 완료되면 `main`에 머지 + Tag(`v1.0.0`) 생성

---

## 4. 협업 흐름

### 4.1 작업 시작

1. 이슈(or 사용자 스토리) 생성  
   - 예: GitHub Issues에 “회원가입 UI 구현(#12)” 등록  
2. 피처 브랜치 생성  
   - `git checkout main` → `git pull origin main`  
   - `git checkout -b feature/12-signup-ui`  
3. 작업 진행 후, 최소 단위로 커밋 & 푸시

### 4.2 Pull Request(코드 리뷰)

1. 작업 완료 시, **Pull Request** 생성  
   - **PR 제목**: “[#이슈번호] 작업 내용” 형태 (예: “[#12] 회원가입 UI 구현 완료”)  
   - **PR 설명**: 구현 내용, 테스트 결과, 스크린샷(필요 시), 남은 이슈 등  
2. **코드 리뷰**  
   - 리뷰어(다른 개발자)들이 코멘트 달고, 수정 요청사항 반영  
   - 모든 리뷰어(또는 팀 규칙에 따른 최소 승인 인원) 승인 시 머지 가능  
3. **머지 후 브랜치 삭제**  
   - 충돌 없으면 `main`에 병합  
   - 브랜치 삭제(`feature/12-signup-ui`) → 깔끔한 리포지토리 유지

### 4.3 CI/CD 연동

- **main 브랜치**에 머지되는 즉시,  
  - **빌드/테스트**가 자동으로 실행 (GitHub Actions 등)  
  - 테스트 성공 시 **Vercel** 등으로 자동 배포(또는 스테이징 환경으로 배포)  
- 배포 후 Smoke Test(기본 기능 확인) → 이상 없으면 프로덕션 버전 운영

### 4.4 핫픽스(긴급 수정) 시나리오

1. 프로덕션에서 치명적 버그 발견  
2. `git checkout main` 후 `git pull origin main`  
3. `git checkout -b hotfix/bug-description`  
4. 수정 → 테스트 → PR → Merge  
5. 배포 즉시 반영 & 해당 핫픽스 브랜치 삭제

---

## 5. 태깅(Version Tagging) & 릴리스 노트

1. **버전 태깅**  
   - 큰 릴리스(기능 집합) 단위로 `release/x.y.z` 브랜치에서 `main`에 머지 후 `vX.Y.Z` 태그 생성  
   - 예: `v1.0.0`, `v1.1.0`  
2. **릴리스 노트**  
   - GitHub Releases 기능 이용  
   - 해당 버전에서 완료된 이슈, 주요 변경사항, 버그 수정 내역을 요약  
3. **패치 버전**(핫픽스)  
   - 작은 수정(버그 픽스)마다 `v1.0.1` 등 패치 버전 태그  
   - 릴리스 노트에 수정 내용 기록

---

## 6. 코드 컨벤션 & 리뷰 지침 (요약)

1. **코드 스타일**  
   - TypeScript, React(Next.js)에 맞춰 **ESLint**, **Prettier** 설정  
   - 커밋 시점(혹은 PR 생성 시점) 자동 린팅 & 포매팅  
2. **PR 작성 시**  
   - 작업 의도, 구현 방식, 영향 범위, 테스트 결과 포함  
   - (가능하면) 스크린샷 또는 GIF 첨부  
3. **리뷰어 지침**  
   - 기능 동작, 코드 구조, 성능, 보안, 에러 핸들링, 문서화(주석) 등 고려  
   - 코멘트는 구체적으로 작성 → “이 부분에서 어떤 문제가 있어서 이렇게 수정 제안”  
4. **머지 조건**  
   - 최소 1인(또는 2인) 승인  
   - CI 빌드/테스트 통과 (필수)

---

## 7. 예시 워크플로우 (순서도)

```
(main) -----------------------------------> (최신 안정 코드)
  |  \
  |   \  (브랜치 생성)
  |    -------> (feature/12-signup-ui)
  |                | (코딩, 커밋, 테스트)
  |                |---> (Pull Request) ---> (코드 리뷰) ---> (Merge into main)
  |                (Delete feature branch)
  |
  |----------> (hotfix/critical-bug)
                (수정) --> (PR) --> (Merge) --> (태그 v1.0.1)
```

---

## 8. 브랜치 전략 적용 시 주의사항

1. **브랜치 난립 방지**  
   - 가능한 빨리, 작은 단위로 merge → branch 삭제  
   - 오래된 피처 브랜치를 방치하지 않도록 주의  
2. **코드 충돌(Conflict) 관리**  
   - 자주 **rebase**나 **pull**해서 최신 `main`과 동기화  
3. **테스트 자동화**  
   - PR마다 **자동 빌드 & 테스트**가 원활히 작동하는지 점검  
4. **환경 변수 차이**  
   - Dev, Staging, Production 환경이 있다면, 브랜치별(또는 GitHub Actions Workflow별)로 .env 관리  
5. **Release 브랜치 사용 여부**  
   - 대규모 기능을 한 번에 릴리스하는 과정이 필요한지(엔터프라이즈 레벨)  
   - 아니면 **Trunk-Based + Minimal Feature**로 바로 main에 배포할지 결정

---

## 9. 결론 및 관리

이 **Git 브랜치 관리 문서**는 BIOFOX KOL 프로젝트에서 **일관된 버전 관리**와 **협업 효율성**을 보장하기 위한 안내서입니다.

- 핵심 포인트  
  1. **Main** 브랜치는 항상 배포 가능한 안정된 코드  
  2. **Minimal Feature Branch**로 기능을 작게 쪼개 → 빠른 PR, 리뷰, 머지  
  3. **자동 테스트/배포(CI/CD)** 와 연동하여, 코드 품질 및 지속적 배포를 지향  
  4. **핫픽스**는 직접 main에서 브랜치를 만들어 긴급 수정 후 재배포  

문서에 기술된 전략은 프로젝트 진행 중에도 **팀 피드백**과 **프로세스 개선**을 통해 업데이트 될 수 있습니다.  
브랜치 전략이 일관성 있게 지켜지도록, 정기적으로 **스프린트 회고**나 **개발 가이드** 세션에서 점검하는 것을 권장합니다.

---

### 참고 사항

- **코드 리뷰 가이드**, **커밋 메시지 규칙**, **릴리스 노트 템플릿** 등 세부적인 부분도 별도 문서나 레포지토리의 README 등에 추가하면 좋습니다.